<div class="p-3">
  <div class="d-flex justify-content-between mb-3">
    <h2>Rent ({{ totalItems$ | async }})</h2>
    <div>
      <form (ngSubmit)="handleSearch()">
        <div class="input-group">
          <input type="text" name="search" [(ngModel)]="currentSearch" class="form-control"
                 placeholder="Search" aria-label="Search" aria-describedby="basic-addon2">
          <button class="btn btn-primary" type="submit">
            Search <i class="fas fa-circle-notch ml-1" [class.fa-spin]="isLoading"></i>
          </button>
        </div>
      </form>
    </div>
    <button class="btn btn-primary" routerLink="new">new property</button>
  </div>
  <div class="row">
    <div class="col-lg-12">
      <div class>
        <div class="table-responsive">
          <table class="table project-list-table table-nowrap align-middle table-borderless">
            <thead>
            <tr>
              <th scope="col" style="width: 100px">#</th>
              <th scope="col">Start Date</th>
              <th scope="col">End Date</th>
              <th scope="col">Total Price</th>
              <th scope="col">Is Paid</th>
              <th scope="col">Status</th>
              <th scope="col">Owner Full Name</th>
              <th scope="col">Owner Phone</th>
              <th scope="col">Tenant Full Name</th>
            </tr>
            </thead>
            <tbody *ngIf="rents.length > 0; else noRent">
            <tr *ngFor="let rent of rents; let i = index">
              <td>{{ i + 1 }}</td>
              <td>{{ rent.startDate }}</td>
              <td>{{ rent.endDate }}</td>
              <td>{{ rent.totalPrice }}</td>
              <td>{{ rent.isPaid ? 'Yes' : 'No' }}</td>
              <td class="badge font-size-12"
                [ngClass]="{'bg-success': rent.status === 'ONGOING', 'bg-danger': rent.status === 'CANCELLED',
                 'bg-warning': rent.status === 'PENDING', 'bg-info': rent.status === 'FINISHED'}"
              >{{ rent.status }}</td>
              <td>{{ rent.ownerFullName }}</td>
              <td>{{ rent.ownerPhone }}</td>
              <td>{{ rent.tenantFullName }}</td>
            </tr>
            </tbody>
            <ng-template #noRent >
              <tr>
                <td colspan="6" class="text-center">
                  <div class="d-flex justify-content-center align-items-center">
                    <div class="text-center">
                      <img src="assets/images/empty.svg" alt="" class="img-fluid" style="max-width: 200px;">
                      <h5 class="mt-4">No Rent Found</h5>
                    </div>
                  </div>
                </td>
              </tr>
            </ng-template>
          </table>
        </div>
        <!-- End table -->
        <div class="row justify-content-md-between align-items-md-center mt-2"
             *ngIf="rents.length > 0">
          <div class="col-sm-12 col-md-5">
            <div class="dataTables_info mb-2" id="tickets-table_info" role="status" aria-live="polite">Showing
              {{ itemsPerPage * (page - 1) + 1 }} to
              {{ (totalItems$ | async) < itemsPerPage ? (totalItems$ | async) : itemsPerPage * page }}
              of {{totalItems$ | async}}
              entries
            </div>
          </div>
          <!-- Pagination -->
          <div class="col-sm-12 col-md-5">
            <div class="text-md-right float-md-end pagination-rounded">
              <ngb-pagination [collectionSize]="totalItems$ | async" [(page)]="page"
                              [pageSize]="itemsPerPage" (pageChange)="loadAll(page)">
              </ngb-pagination>
            </div>
          </div>
          <!-- End Pagination -->
        </div>
      </div>
    </div>
  </div>
  <!-- end row -->

</div>
